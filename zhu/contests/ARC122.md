# Atcoder Regular Contest 122 比赛记录 (vp)

赛时：AB

赛后：ABC

## 题解

A：no ... in a row，意思是没有相邻的某某某，不是“在一行”，然后就是傻逼dp

B：把式子变形，
$$
x+a_i-\min(2x,a_i)\\
= x+a_i-(a_i+\min(2x-a_i,0))\\
=x-\min(2x-a_i,0)
$$
注意到 $\min(a,b)=\dfrac{a+b-|a-b|}{2}$

那么 $\min(x,0)=\dfrac{x-|x|}{2}$

继续变，
$$
=x-\dfrac{2x-a_i-|2x-a_i|}{2}\\
=\dfrac{2x-2x+a_i+|2x-a_i|}{2}=\dfrac{a_i+|2x-a_i|}{2}
$$
本题中期望就相当于和除以 $n$。$a_i$ 的和是定值，相当于要让 $\sum\limits_{i=1}^{n} |2x-a_i|$ 最小。

令 $2x=a_i$ 的中位数即可。即 $x$ 为中位数/2。带进去算即可。

C：并不知道正解是啥，我写的随机化

首先写一个差不多对的东西：$f(a,b)$ 表示使得 $x=a,y=b$ 的 “够小”的步数。注意到 $x,y$ 对称，因此 $f(a,b)=f(b,a)$。

[代码](https://atcoder.jp/contests/arc122/submissions/25705814)

## 比赛实况&总结

很快啊，我就秒了AB

但是C卡了好久，根本不会，中途还睡着了

醒来之后就想C和D。我的思维水平很明显还有待提高，这俩题一个都没思路

在最后的20min，我想出来了C题的随机化打法。但赛场上，我 $1e18$ 要 $200$ 步。赛后我继续加了更多乱搞，才卡进了 $130$，最后AC。