# 2021-11-28 以及之前一小段时间

考noip后一星期，废的跟啥一样。不想描述。

当然，做题少也有一个原因是whk。

## 做题之外

颓废+whk。颓废更多，whk更少。

主要原因是，noip前绷的比较紧，考后一下没了压力，就放松了下来。就像一个绷的很紧的皮筋，突然松手，啪的一下就会松弛下来。

我会尽量减少这个松弛状态持续的时间，并迅速进入一个紧张的状态。

当你不知道要干啥的时候，干就完了，只要开始做了，事情就会慢慢变好，总比啥也不干强。

## 做题

### CF1610F

hb给的题。

拿到这题，我先限时1h做。然后发现根本没有思路，还挺困，去睡了一觉。

然后我继续想了一个下午。依然没有思路。我下午在机房，晚上回家。我就想着回家想。

然后我回家了就开始颓，根本不想题，什么鸡掰。然后我就拖到了周末才把这题搞了。

> 你在搞什么飞机！

看了题解，其实，没看懂。我看了 sunzihao 的做法，我觉得，他好高啊！比题解不知道高到哪里去了。

首先一个显然观察，一个点周围有奇数个 $1$，那么它一定可以满足条件。

我理解了一下他那个做法，就是我们把图分成两层，一层只保留边权为 $1$ 的点，一层只保留边权为 $2$ 的点。

我们对 $2$ 那一层图跑欧拉回路，可以保证：
- 如果这个点周围有偶数个 $2$，那么它进来的 $2=$ 出去的$2$ 个数。
- 否则，进来的 $2$ 和出去的 $2$ 个数，相差不超过 $1$ 个。

接下来我们对 $1$ 那一层跑欧拉回路。根据这个的性质，同理可得：如果一个点周围有奇数个 $1$（也就是满足条件的点），则进去的 $1$ 个数和出去的 $1$ 个数，相差不超过 $1$ 个。

此时，如果它周围有偶数个 $2$，就直接满足条件了。一个不好搞的情况是它周围有奇数个 $2$，如果多出来的 $2$ 和那个 $1$ 是同向的 （即，都是入边，或者都是出边），就不满足了。

此时我们把这两个点拆出来的点之间连一条边，跑一个 “n笔画”。这一招，保证了多出来的这一个 $2$ 和 $1$ 一定同向。

> “n笔画”：把奇数度数的点拿出来，两个两个连边，跑一遍欧拉回路，然后可以得到一个定向策略。
> 
> 这个东西和欧拉回路有相似的性质，就是它定向之后，可以使得每个点的出入平衡。去掉这些加的辅助边之后，就可以使得每个点出入相差不超过 $1$。结合这个建图策略，发现这个恰好能满足要求。

然后就做完了：建两层，一层连 $1$，一层连 $2$，奇数个 $2$ 的点，把两层连起来。得到一个定向方案即可。

### ARC128E

题解：参考 [官方题解](https://atcoder.jp/contests/arc128/editorial/2793)

感觉这题蛮有做头的。至少我自己想，能想出个大概。至少我知道每个cnt不能超过当前的 $n/k$ 上取整。但是我没想到题解里面 $P$ 的那个限制，加上这个，我的想法就充分且必要了。

> hyh：很多题目都是基于显然的观察，多加点东西，得到一个充分必要的结论

在做题的时候，得到一个必要条件，可以再进一步想想：充分吗？为什么不充分？怎么变充分？

然后多观察一点东西出来，就充分必要了！

### ARC127C

大概限时50min就做出来了。

这题是我赛场上搞了好一会没搞出来的。但其实有那么一点思路。

这个现象在我身上经常见，就是我有那么一点思路，而且好像会写，但是因为细节太麻烦，想不清楚，导致赛场上失去了这个分，或者花了很长时间才拿到了这个分。

> 举例：本题，和：
> 
> NOIP2021 T2
> 
> http://noi.ac/contest/591/problem/2511
> 
> CSP2021 T1
> 
> 这个问题正在找人询问。

### ARC127D

这题先套路的想：**涉及异或，直接按位**

但是咋按位啊。这个我在限时内没有想出来。

一个重要的转化是，$A<B$，我们可以这样看：在它俩第一个不同的位上，$A$ 是 $0$，$B$ 是 $1$。

第一个不同的位，可以看成是 $A\oplus B$ 的最高的非 $0$ 位。

然后就看 $A_i\oplus A_j \oplus B_i \oplus B_j$ 的最高非 $0$ 位。

这个东西可以再转化成，令 $C_i=A_i\oplus B_i$，$C_i\oplus C_j$ 的最高非 $0$ 位。

然后这个东西就可以放在 trie 上，枚举一个点岔开来的两个点，搞一下两个子树的贡献就行了，接下来相当于我们去掉了这个 $\min$，有一个集合 $S$，要求 $\sum\limits_{x,y\in S} x\oplus y$。这个是经典的按位做。

接下来维护若干个 `cnt[...][...]...` 数组即可。